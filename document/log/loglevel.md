## 캡스톤2 - 로그레벨

### 로그레벨의 종류

FATAL, ERROR, WARN, INFO, DEBUG, TRACE 총 여섯단계가 존재. 이중 ERROR,INFO를 이용하며 DEBUG를 부수적으로 이용하는 방향을 채택한다. 

#### 로그레벨 채택/미채택의 이유

##### FATAL

시스템이 다운될 정도로 치명적인 에러가 발생할 시 해당 로그가 발생하는데, FATAL의 경우 로그가 찍히기도 전에 서비스가 다운될 가능성이 더 높다고 판단. 또한 이미 ERROR와 INFO측에서 충분한 정보를 획득할 수 있을텐데 FATAL의 로그레벨이 필요하지 않다고 판단하에 이용하지 않기로 결정. -> 대부분 ERROR단계에서 해결될 것.

> 단, 반드시 FATAL레벨이 필요하다고 생각되는 경우가 발생한다면 사용.

##### ERROR

시스템에서 의도하지 않은 경우에 대한 로그로써 **'목적이 분명'** 한 로그레벨이기 때문에 채택. 개발자가 의도하지 않은 대부분의 정보에 대해 로그 작성. 

> Database에서의 오류, Request및 Response에서의 문제, 내부 로직에서의 의도치 않은 에러 등 대부분의 예상/의도하지 않은 오류를 핸들링 하는 시점에 대해 사용하게 될 것.
>
> 로그 확인시 해당 로그레벨 위주로 파악하면 쉽게 장애원인 파악 가능.

##### WARN

WARN레벨의 경우 굉장히 모호한데, 동작에는 문제가 없지만 이상이 발생할 경우에 대한 로그가 해당 로그레벨이다. 하지만 동작에는 이상이 없지만 문제라는 것에 대비해 작성한다는것 자체가 모순적인 일. (개발자가 생각 가능한 문제라면 이미 핸들링 해 놨을 것이기 때문.) 결국 예상치 못한 문제지만 서비스에는 문제가 없다는 뜻이 되는데 이것은 ERROR, INFO로 충분히 커버가 가능하다고 판단하여 사용 배제.

##### INFO

서비스의 흐름, 요구사항, 필요에 따른 정보 등을 작성할 수 있는 **명확한 목적이 있는 레벨**이라고 판단. 서비스의 목적을 달성하는지 분석 및 확인 정보를 제공해주는 용도. 시나리오 상 의도된 예외의 경우도 INFO로 작성할 예정.

##### DEBUG

디버깅시 이용할 목적으로 작성하는 로그. 서비스 수정/개선/개발에서 개발자가 디버깅할때 이용하는 레벨로 이용. 즉 사용자에게 제공하는 로그가 아닌, 개발자가 이용하는 로그로써 선택적으로만 필요에 의해 작성하도록 한다. 

##### TRACE

디버그에서 좀더 상세한 내용을 위한 레벨인데, 디버그에서 충분히 커버할 수 있다고 생각하에 사용 배제.

### 각 로그 레벨 사용범주

#### FATAL

전체 시스템에 대해 파급력을 가지는 심각한 에러일 경우

- 데이터베이스 연결 실패. 데이터베이스 관련 에러
- 네트워크 에러

#### ERROR

의도하지 않은 모든 경우에 대한 로그 발생시 해당 로그 레벨 이용. 대표적으로 다음과 같다. 내부 기능에 대해. 페이탈은 전체 시스템에 대해 파급력. 결과의 영향이 특정 범위에 국한되는지 전체에 영향을 미치는지. 

- 로직에서 NullPointException 등 예기치 못한 에러
- Request, Response 에러

#### INFO

개발자가 의도한, 필요로 하는 정보와 서비스 진행 상황 등에서 로그 레벨 이용.

- Request, Response 내용 파악. 
- 타 API로 넘어가는 경우 해당 정보
- 예측한 예외
  - Data base에 관련 데이터가 존재하지 않는경우 - 사용자가 없거나 게시물 등 존재하지 않는 경우
  - 리퀘스트 포맷이 잘못된 경우. 
- 시나리오상 표현해야하는 정보들

#### DEBUG

서비스의 유지 보수 등 목적이 아닌, 개발,수정에 대해 정보를 얻고자 하는 경우. 상세하게 다 찍혀야 한다. 디버그 로그만 보고도 프로그램 흐름이 파악될 정도. 

- 서비스 제공까지의 시간이 얼마나 걸리는지 파악.
- 서비스시 변수가 가지고 있는 데이터의 파악
- 이외 개발자가 개발 및 수정에서 필요하다고 생각되는 정보의 출력에 대해.

#### WARN

**잠정적인 위협.** 사용자가 3개를 입력해야 하는데 지속적으로 2개 입력시 워닝을 찍어 차후 개발을 진행해야 함을 알려주기도 하는 등. 

